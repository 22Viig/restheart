## RESTHeart configuration file.
---
#### listeners

# restheart uses basic authentication; usernames and passwords are sent over the net on each request.
# you must use the https listener to avoid your credentials to be sniffed.
# use the http listener only on private environments or in case you have a web server using https in front of restheart 

https-listener: true
https-host: 0.0.0.0
https-port: 4443

http-listener: true
http-host: 0.0.0.0
http-port: 8080

ajp-listener: false
ajp-host: 0.0.0.0
ajp-port: 8009

#### SSL configuration

# use the embedded self-signed certificate
use-embedded-keystore: true

# uncomment the following lines to use your own certificate. you'll need to create a keystore

#keystore-file: /path/to/keystore/file
#keystore-password: password
#certpassword: password

#### mongodb 

# in case of replica set, define host and port for all mongod instances
mongo-servers:
    - host: 127.0.0.1
      port: 27017

mongo-credentials:
    - auth-db: admin
      user: admin
      password: adminadmin
      
mongo-mounts:
    - what: "*"
      where: /
    - what: "*"
      where: /remappedall
    - what: /integrationtestdb
      where: /remappeddb
    - what: /integrationtestdb/coll1
      where: /remappedcoll1
    - what: /integrationtestdb/coll2
      where: /remappedcoll2
    - what: /integrationtestdb/coll1/doc1
      where: /remappeddoc1
    - what: /integrationtestdb/coll2/doc2
      where: /remappeddoc2
  

### security 
idm:    
    implementation-class: com.softinstigate.restheart.security.impl.SimpleFileIdentityManager
    conf-file: ../etc/security-integrationtest.yml
access-manager:    
    implementation-class: com.softinstigate.restheart.security.impl.SimpleAccessManager
    conf-file: ../etc/security-integrationtest.yml
    
#### protocol

# if you want to save bandwitdth, you can force requests to support the giz encoding only (if not, requests will be rejected)
force-gzip-encoding: false

#### logging

enable-log-file: false
log-file-path: /tmp/restheart.log

enable-log-console: true

#  log levels: OFF, ERROR, WARN, INFO, DEBUG, TRACE and ALL.
log-level: INFO

#### performace settings

# local-cache to cache the db and collection properties
# it drammatically improves GETs performace
# a GET on a collecation requires two additional queries to retrieve the db and the collection props
# at development time you might want to disable the local cache to have all changes to dbs and collections props immediatly visible
local-cache-enabled: true
# time to live is in milliseconds; specify a ttl < 0 to never expire cached entries 
local-cache-ttl: 1000

# to set a limit for the maximum number of concurrent requests being served
requests-limit: 1000

# the number of I/O threads created for non-blocking tasks. at least 2. suggested value: core*2
io-threads: 2 

# the number of threads created for blocking tasks (such as ones involving db access). suggested value: core*16
worker-threads: 8 

# use 16k buffers for best performance - as in linux 16k is generally the default amount of data that can be sent in a single write() call
buffer-size: 16384
buffers-per-region: 20
# should the buffer pool use direct buffers, this instructs the JVM to use native (if possible) I/O operations on the buffers
direct-buffers: true
